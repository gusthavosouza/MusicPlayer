<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Audio Teste 1.0</title>

<script type="text/javascript" src="scripts/binaryajax.js"></script>
<script type="text/javascript" src="scripts/id3.js"></script>

<link rel="stylesheet" href="jquery/jquery-ui.css">
<script src="jquery/jquery-1.11.1.js"></script>
<script src="jquery/jquery-ui.js"></script>
<link rel="stylesheet" href="style/style.css">

</head>

<script type="text/javascript">
		
		$(function() {
			$("#slider").slider({
				orientation : "vertical",
				range : "min",
				min : 0,
				max : 100,
				value : 100,
				slide : function(event, ui) {
					$("#amount").val(ui.value);
				}
			});
			$("#amount").val($("#slider").slider("value"));
		});
		
		$(function() {
		    $( "#sliderMusica" ).slider();
		  });
		
	myVar;

	function forward() {

		var musica = document.getElementById('mediaPlayer');
		musica.currentTime += 1.0;
		myVar = setTimeout(forward, 100);

	}

	function previous() {

		var musica = document.getElementById('mediaPlayer');
		musica.currentTime -= 1.0;
		myVar = setTimeout(previous, 100);
	}

	function clearForward() {
		clearTimeout(myVar);
	}

	function playButton() {
		var musica = document.getElementById('mediaPlayer');
		musica.play();
		document.getElementById('playBut').style.display = "none";
		document.getElementById('pauseBut').style.display = "inline-block";
		
		document.getElementById('inicio').innerHTML = musica.seekable.start(0);
		document.getElementById('fim').innerHTML = musica.seekable.end(0);
	}

	function pauseButton() {
		var musica = document.getElementById('mediaPlayer');
		musica.pause();
		document.getElementById('pauseBut').style.display = "none";
		document.getElementById('playBut').style.display = "inline-block";
	}

	function volumeMus(volumeValue) {
		var musica = document.getElementById('mediaPlayer');
		musica.volume = volumeValue;
		document.getElementById('volumeRange').style.display = "none";
		//var alturaVolume = document.getElementById('volumeNum');
		//alturaVolume.innerHTML = musica.volume * 100;
	}

	function changeVolume() {
		document.getElementById('volumeRange').style.display = "block";
	}
</script>

<body>
	<div id="audioPlayer">

		<div id="fundoPlayer" class="playerStyle">

			<div id="imagemMusica">
				<img alt="" src="images/album.jpg" class="albumStyle">
			</div>

			<div id="infos" class="infosStye">
				<table>
					<tr>
						<td><output id="name">Name: </output></td>
						<td><output id="name">Desire</output></td>
					</tr>

					<tr>
						<td><output id="artist">Artist: </output></td>
						<td><output id="artist"> Ozzy</output></td>

					</tr>

					<tr>
						<td><output id="Album:">Album: </output></td>
						<td><output id="Album:"> Best</output></td>
					</tr>

					<tr>
						<td><output id="year">Year: </output></td>
						<td><output id="year"> 1991</output></td>
					</tr>

					<tr>
						<td><output id="genre">Genre: </output></td>
						<td><output id="genre"> Rock</output></td>
					</tr>
				</table>

			</div>

			<audio id="mediaPlayer" style="width: 300px; height: 50px;">
				<source src="music/Desire.mp3" id="musicaSource">
			</audio>

			<div id="controlsPlayer">

				<div id="playDiv" class="playDivStyle">
					<table>
						<tr>
							<td><img id="playBut" src="images/play.png" onclick="playButton();"
								style="width: 40px; height: 40px; cursor: pointer;" /> <img
								id="pauseBut" src="images/pause.png" onclick="pauseButton();"
								style="width: 40px; height: 40px; cursor: pointer; display: none;" />
								
								<output id="inicio">0:00</output>
								<div id="sliderMusica" style="display: block; ;"></div>
								<output id="fim">0:00</output>

							</td>
							<td><img alt="Forward" src="images/previous.png"
								onmousedown="previous();" onmouseup="clearForward();"
								style="width: 30px; height: 30px; cursor: pointer;"
								title="Previous"> <img alt="Forward" src="images/forward.png"
								onmousedown="forward();" onmouseup="clearForward();"
								style="width: 30px; height: 30px; cursor: pointer;"
								title="Forward"></td>
						</tr>
					</table>
				</div>

				<div id="volumeDiv" class="volumeStyle">

					<input type="range" max="1" min="0" step="0.01" value="1"
						id="volumeRange" class="volumeVert"
						onchange="volumeMus(this.value);"> <img alt=""
						src="images/volume.png"
						style="display: block; left: 50px; top: 90px; position: absolute; cursor: pointer;"
						onclick="changeVolume();">
				</div>

			</div>
		</div>
	</div>
	
	<p>
		<label for="amount">Volume:</label> <input type="text" id="amount"
			readonly style="border: 0; color: #383838; font-weight: bold;">
	</p>
	<div id="slider" style="height: 200px;"></div>
</body>
</html>